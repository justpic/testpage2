(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c801"],{Fe5J:function(e,n,t){"use strict";t.r(n);var a=t("cJtM"),r={data:function(){return{banner:{title:"",sort:0,imageUrl:"/static/01.jpg",linkUrl:""},saveBtnDisabled:!1,BASE_API:"http://localhost:8222"}},created:function(){this.init()},watch:{$route:function(e,n){this.init()}},methods:{handleAvatarSuccess:function(e,n){this.banner.imageUrl=e.data.url},beforeAvatarUpload:function(e){var n="image/jpeg"===e.type,t=e.size/1024/1024<2;return n||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),n&&t},init:function(){if(this.$route.params&&this.$route.params.id){var e=this.$route.params.id;this.getInfo(e)}},getInfo:function(e){var n=this;a.a.getBannerInfo(e).then(function(e){n.banner=e.data.item})},saveOrUpdate:function(){this.banner.id?this.updateBanner():this.saveBanner()},updateBanner:function(){var e=this;a.a.updateBannerInfo(this.banner).then(function(n){e.$message({type:"success",message:"修改成功!"}),e.$router.push({path:"/banner/list"})})},saveBanner:function(){var e=this;a.a.addBanner(this.banner).then(function(n){e.$message({type:"success",message:"添加成功!"}),e.$router.push({path:"/banner/table"})})}}},s=t("KHd+"),i=Object(s.a)(r,function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"app-container"},[e._v("\n  Banner表单\n   "),t("el-form",{attrs:{"label-width":"120px"}},[t("el-form-item",{attrs:{label:"Banner标题"}},[t("el-input",{model:{value:e.banner.title,callback:function(n){e.$set(e.banner,"title",n)},expression:"banner.title"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Banner排序"}},[t("el-input-number",{attrs:{"controls-position":"right",min:"0"},model:{value:e.banner.sort,callback:function(n){e.$set(e.banner,"sort",n)},expression:"banner.sort"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Banner链接地址"}},[t("el-input",{model:{value:e.banner.linkUrl,callback:function(n){e.$set(e.banner,"linkUrl",n)},expression:"banner.linkUrl"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Banner图片"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,action:e.BASE_API+"/eduoss/fileoss"}},[t("img",{attrs:{src:e.banner.imageUrl}})])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.saveOrUpdate}},[e._v("保存")])],1)],1)],1)},[],!1,null,null,null);i.options.__file="save.vue";n.default=i.exports},cJtM:function(e,n,t){"use strict";var a=t("t3Un");n.a={getBannerListPage:function(e,n,t){return Object(a.a)({url:"/educms/banneradmin/pageBanner/"+e+"/"+n,method:"get"})},deleteBannerId:function(e){return Object(a.a)({url:"/educms/banneradmin/remove/"+e,method:"delete"})},addBanner:function(e){return Object(a.a)({url:"/educms/banneradmin/addBanner",method:"post",data:e})},getBannerInfo:function(e){return Object(a.a)({url:"/educms/banneradmin/getBanner/"+e,method:"get"})},updateBannerInfo:function(e){return Object(a.a)({url:"/educms/banneradmin/updateBanner",method:"post",data:e})}}}}]);